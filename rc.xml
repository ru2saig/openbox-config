<?xml version="1.0" encoding="UTF-8"?>
<openbox_config xmlns="http://openbox.org/3.4/rc" xmlns:xi="http://www.w3.org/2001/XInclude">
  <resistance>
    <strength>10</strength>
    <screen_edge_strength>20</screen_edge_strength>
  </resistance>
  <focus>
    <focusNew>yes</focusNew>
    <followMouse>no</followMouse>
    <focusLast>yes</focusLast>
    <underMouse>no</underMouse>
    <focusDelay>200</focusDelay>
    <raiseOnFocus>no</raiseOnFocus>
  </focus>
  <placement>
    <policy>Smart</policy>
    <center>yes</center>
    <monitor>Active</monitor>
    <!-- All the keybindings and mousebindings assume a dual-monitor setup -->
    <primaryMonitor>1</primaryMonitor>
  </placement>
  <theme>
    <name>Arc-Darker</name>
    <keepBorder>yes</keepBorder>
    <animateIconify>yes</animateIconify>
    <font place="ActiveWindow">
      <name>JetBrains Semi-Bold</name>
      <size>8</size>
      <weight>Normal</weight>
      <slant>Normal</slant>
    </font>
    <font place="InactiveWindow">
      <name>JetBrains Semi-Bold Oblique</name>
      <size>8</size>
      <weight>Normal</weight>
      <slant>Normal</slant>
    </font>
    <font place="MenuHeader">
      <name>JetBrains</name>
      <size>11</size>
      <weight>Bold</weight>
      <slant>Normal</slant>
    </font>
    <font place="MenuItem">
      <name>JetBrains</name>
      <size>11</size>
      <weight>Normal</weight>
      <slant>Normal</slant>
    </font>
    <font place="ActiveOnScreenDisplay">
      <name>JetBrains Semi-Bold</name>
      <size>9</size>
      <weight>Normal</weight>
      <slant>Normal</slant>
    </font>
    <font place="InactiveOnScreenDisplay">
      <name>JetBrains Semi-Bold</name>
      <size>9</size>
      <weight>Normal</weight>
      <slant>Normal</slant>
    </font>
    <titleLayout>NLIMC</titleLayout>
  </theme>
  <desktops>
    <number>8</number>
    <firstdesk>1</firstdesk>
    <names>
      <name>ᚤ</name>
      <name>ᚼ</name>
      <name>ᛉ</name>
      <name>ᛈ</name>
      <name>ᛇ</name>
      <name>ᛟ</name>
      <name>ᚱ</name>
      <name>ᛏ</name>
    </names>
    <popupTime>875</popupTime>
  </desktops>
  <resize>
    <drawContents>yes</drawContents>
    <popupShow>Always</popupShow>
    <popupPosition>Center</popupPosition>
    <popupFixedPosition>
      <x>center</x>
      <y>center</y>
    </popupFixedPosition>
  </resize>
  <margins>
    <top>0</top>
    <bottom>0</bottom>
    <left>0</left>
    <right>0</right>
  </margins>
  <dock>
    <position>Top</position>
    <floatingX>0</floatingX>
    <floatingY>0</floatingY>
    <noStrut>no</noStrut>
    <stacking>Above</stacking>
    <direction>Horizontal</direction>
    <autoHide>no</autoHide>
    <hideDelay>300</hideDelay>
    <showDelay>300</showDelay>
    <moveButton>Middle</moveButton>
  </dock>
  <keyboard>
    <chainQuitKey>C-g</chainQuitKey>
    <keybind key="C-W-q" chroot="true">
      <keybind key="C-W-q"><action name="BreakChroot"/></keybind>
    </keybind>
    <!-- Keybindings for desktop switching -->
    <keybind key="W-S-1">
      <action name="SendToDesktop">
        <to>1</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-S-2">
      <action name="SendToDesktop">
        <to>2</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-S-3">
      <action name="SendToDesktop">
        <to>3</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-S-4">
      <action name="SendToDesktop">
        <to>4</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-S-5">
      <action name="SendToDesktop">
        <to>5</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-S-6">
      <action name="SendToDesktop">
        <to>6</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-S-7">
      <action name="SendToDesktop">
        <to>7</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-S-8">
      <action name="SendToDesktop">
        <to>8</to>
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="W-1">
      <action name="GoToDesktop">
        <to>1</to>
      </action>
    </keybind>
    <keybind key="W-2">
      <action name="GoToDesktop">
        <to>2</to>
      </action>
    </keybind>
    <keybind key="W-3">
      <action name="GoToDesktop">
        <to>3</to>
      </action>
    </keybind>
    <keybind key="W-4">
      <action name="GoToDesktop">
        <to>4</to>
      </action>
    </keybind>
    <keybind key="W-5">
      <action name="GoToDesktop">
        <to>5</to>
      </action>
    </keybind>
    <keybind key="W-6">
      <action name="GoToDesktop">
        <to>6</to>
      </action>
    </keybind>
    <keybind key="W-7">
      <action name="GoToDesktop">
        <to>7</to>
      </action>
    </keybind>
    <keybind key="W-8">
      <action name="GoToDesktop">
        <to>8</to>
      </action>
    </keybind>
    <keybind key="W-d">
      <action name="ToggleShowDesktop"/>
    </keybind>
    <!-- Keybindings for windows and menus -->
    <keybind key="A-F4">
      <action name="Close"/>
    </keybind>
    <!-- Keybindings for window layouts.
	 
	 Make sure the windows to split are on the same monitor, or weird stuff happens. "Select" the window to split with by giving it focus. When there are other windows on the same monitor, use W-n instead of W-h/l for moving focus between these the split applications.
	 
	 W-C-1: Splits the 2 most recent windows in a 50-50 split. Puts the "selected" window on the right, and focus remains on the window "selected" from, which is put on the left.
	 W-C-2: Splits the 2 most recent windows in a 50-50 split. Gives focus to the "selected" window, which is placed on the left.
	 
	 These split for the 3 or 4 windows on the same monitor. Focus stays on the window that the keybind happend on.
	 Make sure there are enough windows on the monitor the incantation with the focussed window is called on. Or weird stuff happens. Works best with exactly the number split for.
	 
         W-C-3: Splits with first window on the left, other 2 vertical split 50% height and width on the right
	 W-C-4: Splits 4 windows equally in each corner of the monitor
	 W-C-5: Splits with first window on the right, other 2 vertical split 50% height and width on the left
	 W-space: Maximize all the windows on the current monitor (where the focussed window is)
    -->
    <keybind key="W-C-2">
      <action name="SendToLayer">
	<layer>normal</layer>
      </action>
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
	<x>0</x>
	<y>0</y>
	<width>50%</width>
	<height>100%</height>
	<monitor>current</monitor>
      </action>

      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>no</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="Unmaximize"/>
	  <action name="MoveResizeTo">
	    <x>-0</x>
	    <y>0</y>
	    <width>50%</width>
	    <height>100%</height>
	    <monitor>current</monitor>
	  </action>
	</finalactions>
      </action>

      <action name="Focus"/>
    </keybind>
    <keybind key="W-C-1">
      <action name="SendToLayer">
	<layer>normal</layer>
      </action>
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
	<x>-0</x>
	<y>0</y>
	<width>50%</width>
	<height>100%</height>
	<monitor>current</monitor>
      </action>

      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>no</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>0</x>
            <y>0</y>
            <width>50%</width>
            <height>100%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>

      <!-- Move focus back to the original window -->
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
      </action>
    </keybind>
    <keybind key="W-C-3">
      <action name="SendToLayer">
	<layer>normal</layer>
      </action>
      <!-- "Sorting" the windows, so that the next part gets the right windows. -->
      <action name="If">
	<query target="focus">
	  <monitor>2</monitor>
	  <desktop>current</desktop>
	</query>
	<then>
	  <action name="ForEach">
            <query>
	      <monitor>1</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</then>
	<else>
	  <action name="ForEach">
            <query>
	      <monitor>2</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</else>
      </action>

      <!-- Put the windows in their corners -->
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>0</x>
        <y>0</y>
        <width>50%</width>
        <height>100%</height>
        <monitor>current</monitor>
      </action>
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="FocusToBottom"/>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>-0</x>
            <y>0</y>
            <width>50%</width>
            <height>50%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
	<finalactions>
 	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="FocusToBottom"/>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>-0</x>
            <y>-0</y>
            <width>50%</width>
            <height>50%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>            
    </keybind>
    <keybind key="W-C-5">
      <action name="SendToLayer">
	<layer>normal</layer>
      </action>
      <!-- "Sorting" the windows, so that the next part gets the right windows. -->
      <action name="If">
	<query target="focus">
	  <monitor>2</monitor>
	  <desktop>current</desktop>
	</query>
	<then>
	  <action name="ForEach">
            <query>
	      <monitor>1</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</then>
	<else>
	  <action name="ForEach">
            <query>
	      <monitor>2</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</else>
      </action>

      <!-- Put the windows in their corners -->
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>-0</x>
        <y>0</y>
        <width>50%</width>
        <height>100%</height>
        <monitor>current</monitor>
      </action>
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="FocusToBottom"/>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>0</x>
            <y>0</y>
            <width>50%</width>
            <height>50%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="FocusToBottom"/>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>0</x>
            <y>-0</y>
            <width>50%</width>
            <height>50%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>            
    </keybind>
    <keybind key="W-space">
      <action name="If">
	<query target="focus">
	  <monitor>1</monitor>
	  <desktop>current</desktop>
	</query>
	<then>
	  <action name="ForEach">
            <query>
	      <monitor>1</monitor>
              <desktop>current</desktop>
            </query>
            <then>
 	      <action name="SendToLayer">
		<layer>normal</layer>
	      </action>
	      <action name="Maximize"/>
	    </then>
	  </action>
	</then>
	<else>
	  <action name="ForEach">
            <query>
	      <monitor>2</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="SendToLayer">
		<layer>normal</layer>
	      </action>
	      <action name="Maximize"/>
	    </then>
	  </action>
	</else>
      </action>
    </keybind>
    <keybind key="W-C-4">
      <action name="SendToLayer">
	<layer>normal</layer>
      </action>
      <!-- "Sorting" the windows, so that the next part gets the right windows. -->
      <action name="If">
	<query target="focus">
	  <monitor>2</monitor>
	  <desktop>current</desktop>
	</query>
	<then>
	  <action name="ForEach">
            <query>
	      <monitor>1</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</then>
	<else>
	  <action name="ForEach">
            <query>
	      <monitor>2</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</else>
      </action>

      <!-- Put the windows in their corners, clockwise -->
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>0</x>
        <y>0</y>
        <width>50%</width>
        <height>50%</height>
        <monitor>current</monitor>
      </action>
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="FocusToBottom"/>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>-0</x>
            <y>0</y>
            <width>50%</width>
            <height>50%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="FocusToBottom"/>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>-0</x>
            <y>-0</y>
            <width>50%</width>
            <height>50%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>
      <action name="NextWindow">
	<dialog>none</dialog>
	<raise>yes</raise>
	<interactive>no</interactive>
	<finalactions>
	  <action name="SendToLayer">
	    <layer>normal</layer>
	  </action>
	  <action name="FocusToBottom"/>
          <action name="Unmaximize"/>
          <action name="MoveResizeTo">
            <x>0</x>
            <y>-0</y>
            <width>50%</width>
            <height>50%</height>
            <monitor>current</monitor>
          </action>
	</finalactions>
      </action>
    </keybind>
    <!-- Keybindings for window switching.
	 W-n: Switches to the next window; but starting from the windows on the monitor of the window that had focus when the incantation was uttered.
	 W-p: Previous window
	 W-s: Switches to the active window on the other monitor

These work off when the window in the specified direction is on another monitor, where there are several overlapping windows in the direction; the first added window on that monitor will be selected. This is not what usually I would expect to happen; I'd want the first visible/most recently focussed window out to be focussed. For that, use W-s. But, the following shortcuts work as I expect when there is no "visible" contention for which window to choose on the other monitor.
       
	 W-k: Move visible focus to the window in the north
	 W-j: Move visible focus to the window below the current one
	 W-h: Move visible focus to the window to the left of the current one
	 W-l: Move visible focus to the window to the right of the current one
    -->
    <keybind key="W-h">
      <action name="DirectionalTargetWest">
	<finalactions>
	  <action name="Focus"/>
	  <action name="Raise"/>
	  <action name="Unshade"/>
	</finalactions>
      </action>
    </keybind>
    <keybind key="W-l">
      <action name="DirectionalTargetEast">
	<finalactions>
	  <action name="Focus"/>
	  <action name="Raise"/>
	  <action name="Unshade"/>
	</finalactions>
      </action>
    </keybind>
    <keybind key="W-k">
      <action name="DirectionalTargetNorth">
	<finalactions>
	  <action name="Focus"/>
	  <action name="Raise"/>
	  <action name="Unshade"/>
	</finalactions>
      </action>
    </keybind>
    <keybind key="W-j">
      <action name="DirectionalTargetSouth">
	<finalactions>
	  <action name="Focus"/>
	  <action name="Raise"/>
	  <action name="Unshade"/>
	</finalactions>
      </action>
    </keybind>
    <keybind key="W-n">
      <!-- Essentially, get the windows on the current monitor focssused first, to switch more intuitively, by pushing all the other monitor focusses to the bottom. -->
      <action name="If">
	<query target="focus">
	  <monitor>2</monitor>
	  <desktop>current</desktop>
	</query>
	<then>
	  <action name="ForEach">
            <query>
	      <monitor>1</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</then>
	<else>
	  <action name="ForEach">
            <query>
	      <monitor>2</monitor>
              <desktop>current</desktop>
            </query>
            <then>
	      <action name="Unfocus"/>
	      <action name="FocusToBottom"/>
	    </then>
	  </action>
	</else>
      </action>
      <action name="NextWindow">
        <raise>no</raise> 
	<dialog>icons</dialog>
        <finalactions>
	  <action name="Focus"/>
          <action name="Raise"/>
          <action name="Unshade"/>
        </finalactions>
      </action>
    </keybind>
    <keybind key="W-p">
      <action name="PreviousWindow">
        <raise>no</raise>
        <dialog>icons</dialog>
        <finalactions>
	  <action name="Focus"/>
          <action name="Raise"/>
          <action name="Unshade"/>
        </finalactions>
      </action>
    </keybind>
    <keybind key="W-s">
      <action name="Execute">
	<command>switch_monitor</command>
      </action>
    </keybind>
    <keybind key="A-Tab">
      <action name="NextWindow">
	<raise>no</raise> 
	<dialog>icons</dialog>
	<finalactions>
	  <action name="Focus"/>
          <action name="Raise"/>
          <action name="Unshade"/>
	</finalactions>
      </action>
    </keybind>
    <!-- keybingings for moving and resizing windows -->
    <!--
	W-S-F1: Move the window under focus to the monitor 1
	W-S-F2: Move the window under focus to the monitor 2
    -->
    <keybind key="W-S-F1">
      <action name="If">
        <query target="focus">
          <monitor>2</monitor>
        </query>
        <then>
	  <action name="If">
	    <query>
	      <maximized>yes</maximized>
	    </query>
	    <then>
              <action name="Unmaximize"/>
              <action name="MoveResizeTo">
		<monitor>1</monitor>
              </action>
              <action name="Maximize"/>
	    </then>
            <else>
              <action name="MoveResizeTo">
		<monitor>1</monitor>
              </action>
            </else>
	  </action>
	</then>
      </action>
    </keybind>
    <keybind key="W-S-F2">
      <action name="If">
        <query target="focus">
          <monitor>1</monitor>
        </query>
        <then>
	  <action name="If">
	    <query>
	      <maximized>yes</maximized>
	    </query>
	    <then>
	      <action name="Unmaximize"/>
              <action name="MoveResizeTo">
		<monitor>2</monitor>
              </action>
              <action name="Maximize"/>
            </then>
            <else>
              <action name="MoveResizeTo">
		<monitor>2</monitor>
              </action>
            </else>
	  </action>
	</then>
      </action>
    </keybind>
    <!-- keybindings for window snapping. These work on the current monitor the window is on -->
    <!--
	W-Return: Toggle Maximize
	W-S-c: snap the focussed window to the center of the monitor and resize 50%, 50%.
    -->
    <keybind key="W-S-c">
      <action name="SendToLayer">
	<layer>normal</layer>
      </action>
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>center</x>
        <y>center</y>
        <width>2/3</width>
        <height>2/3</height>
        <monitor>current</monitor>
      </action>
    </keybind>
    <keybind key="W-Return">
      <action name="SendToLayer">
	<layer>normal</layer>
      </action>
      <action name="ToggleMaximize">
        <direction> both </direction>
      </action>
    </keybind>
    <!-- Keybindings for running applications -->
    <!-- #TODO: redo a lot of these -->
    <keybind key="W-e">
      <action name="Execute">
        <startupnotify>
          <enabled>true</enabled>
          <name>Emacs</name>
        </startupnotify>
        <!-- 
	#!/bin/env sh
	emacsclient -c  "$@" 2>/dev/null & -->
        <command>emacsw</command>
      </action>
    </keybind>
    <keybind key="W-t">
      <action name="Execute">
        <startupnotify>
          <enabled>true</enabled>
          <name>Thunar</name>
        </startupnotify>
        <command>thunar</command>
      </action>
    </keybind>
    <keybind key="W-w">
      <action name="Execute">
        <startupnotify>
          <enabled>true</enabled>
          <name>Web Browser</name>
        </startupnotify>
        <command>firefox</command>
      </action>
    </keybind>
    <keybind key="C-A-t">
      <action name="Execute">
        <startupnotify>
          <enabled>true</enabled>
          <name>terminal-emulator</name>
        </startupnotify>
        <command>st</command>
      </action>
    </keybind>
    <!-- TODO: Replace with a menu -->
    <keybind key="W-r">
      <action name="Execute">
        <startupnotify>
          <enabled>true</enabled>
          <name>rofi</name>
        </startupnotify>
        <command>rofi -show drun</command>
      </action>
    </keybind>
    <keybind key="W-S-l">
      <action name="Execute">
        <startupnotify>
          <enabled>true</enabled>
          <name>slock</name>
        </startupnotify>
        <command>/usr/bin/slock</command>
      </action>
    </keybind>
    <!-- TODO: what to do about dis? -->
    <keybind key="W-S-q">
      <action name="Execute">
        <startupnotify>
          <enabled>true</enabled>
          <name>Logout</name>
        </startupnotify>
        <command>dm-tool lock</command>
      </action>
    </keybind>
    <keybind key="W-F7">
      <action name="Reconfigure"/>
    </keybind>
    <!-- scrot variations with variations on the prt sc key. -->
    <keybind key="Print">
      <action name="Execute">
        <command>scrot -f -F '/home/ruusaig/Pictures/Screenshots/%Y-%m-%d-%H%M%S_$wx$h.png' -e 'notify-send --expire-time=3500 --icon=emblem-photos "Saved Screenshot" "as $f"' </command>
      </action>
    </keybind>
    <keybind key="S-Print">
      <action name="Execute">
        <command>scrot -l style=dash -s -f -F '/home/ruusaig/Pictures/Screenshots/%Y-%m-%d-%H%M%S_$wx$h.png' -e 'notify-send --expire-time=3500 --icon=emblem-photos "Saved Screenshot" "as $f"' </command>
      </action>
    </keybind>
    <keybind key="C-Print">
      <action name="Execute">
        <!-- source (the \ are used to escape):  scrot -f -e 'notify-send \-\-expire-time=3500 \-\-icon=emblem-photos "Saved Screenshot" "to clipboard"' - | xclip -t image/png -i -selection clip -->
        <command> ~/Scripts/scrot_save_to_clipboard.sh </command>
      </action>
    </keybind>
    <keybind key="C-S-Print">
      <action name="Execute">
        <!-- source:  scrot -l style=dash -s -f -e 'notify-send \-\-expire-time=3500 \-\-icon=emblem-photos "Saved Screenshot" "to clipboard"' - | xclip -t image/png -i -selection clip -->
        <command> ~/Scripts/scrot_save_sel_to_clipboard.sh</command>
      </action>
    </keybind>
    <!-- keybindings for media keys -->
    <keybind key="XF86AudioRaiseVolume">
      <action name="Execute">
	<command> amixer set Master 5%+ </command>
      </action>
    </keybind>
    <keybind key="XF86AudioLowerVolume">
      <action name="Execute">
	<command> amixer set Master 5%- </command>
      </action>
    </keybind>
    <keybind key="C-XF86AudioRaiseVolume">
      <action name="Execute">
	<command> amixer set Master 1%+ </command>
      </action>
    </keybind>
    <keybind key="C-XF86AudioLowerVolume">
      <action name="Execute">
	<command> amixer set Master 1%- </command>
      </action>
    </keybind>
    <keybind key="XF86AudioMute">
      <action name="Execute">
	<command> amixer set Master toggle </command>
      </action>
    </keybind>
    <keybind key="XF86MonBrightnessUp">
      <action name="Execute">
	<command> xbacklight +5 </command>
      </action>
    </keybind>
    <keybind key="XF86MonBrightnessDown">
      <action name="Execute">
	<command> xbacklight -5 </command>
      </action>
    </keybind>
    <keybind key="C-XF86MonBrightnessUp">
      <action name="Execute">
	<command> xbacklight +1 </command>
      </action>
    </keybind>
    <keybind key="C-XF86MonBrightnessDown">
      <action name="Execute">
	<command> xbacklight -1 </command>
      </action>
    </keybind>
  </keyboard>
  <mouse>
    <dragThreshold>1</dragThreshold>
    <!-- number of pixels the mouse must move before a drag begins -->
    <doubleClickTime>300</doubleClickTime>
    <!-- in milliseconds (1000 = 1 second) -->
    <screenEdgeWarpTime>400</screenEdgeWarpTime>
    <!-- Time before changing desktops when the pointer touches the edge of the
       screen while moving a window, in milliseconds (1000 = 1 second).
       Set this to 0 to disable warping -->
    <screenEdgeWarpMouse>false</screenEdgeWarpMouse>
    <!-- Set this to TRUE to move the mouse pointer across the desktop when
       switching due to hitting the edge of the screen -->
    <context name="Frame">
      <mousebind button="W-Right" action="Drag">
	<action name="If">
	  <query>
	    <maximized>yes</maximized>
	  </query>
	  <then>
            <action name="Unmaximize"/>
	  </then>
	</action>
	<action name="MoveResizeTo">
	  <width>50%</width>
	  <height>50%</height>
	</action>
	<action name="Move"/>
	<action name="SendToLayer">
	  <layer>top</layer>
	</action>
      </mousebind>
    </context>
    <context name="Titlebar">
      <mousebind button="Left" action="Drag">
        <action name="Move"/>
      </mousebind>
      <mousebind button="Left" action="DoubleClick">
        <action name="ToggleMaximize"/>
      </mousebind>
      <mousebind button="Up" action="Click">
        <action name="if">
          <shaded>no</shaded>
          <then>
            <action name="Shade"/>
            <action name="FocusToBottom"/>
            <action name="Unfocus"/>
            <action name="Lower"/>
          </then>
        </action>
      </mousebind>
      <mousebind button="Down" action="Click">
        <action name="if">
          <shaded>yes</shaded>
          <then>
            <action name="Unshade"/>
            <action name="Raise"/>
          </then>
        </action>
      </mousebind>
    </context>
    <context name="Titlebar Top Right Bottom Left TLCorner TRCorner BRCorner BLCorner">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
      </mousebind>
      <mousebind button="Middle" action="Press">
        <action name="Lower"/>
        <action name="FocusToBottom"/>
        <action name="Unfocus"/>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="ShowMenu">
          <menu>client-menu</menu>
        </action>
      </mousebind>
    </context>
    <context name="Top">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>top</edge>
        </action>
      </mousebind>
    </context>
    <context name="Left">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>left</edge>
        </action>
      </mousebind>
    </context>
    <context name="Right">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>right</edge>
        </action>
      </mousebind>
    </context>
    <context name="Bottom">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>bottom</edge>
        </action>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="ShowMenu">
          <menu>client-menu</menu>
        </action>
      </mousebind>
    </context>
    <context name="TRCorner BRCorner TLCorner BLCorner">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
      </mousebind>
      <mousebind button="Left" action="Drag">
        <action name="Resize"/>
      </mousebind>
    </context>
    <context name="Client">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Middle" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
    </context>
    <context name="Icon">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
        <action name="ShowMenu">
          <menu>client-menu</menu>
        </action>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="ShowMenu">
          <menu>client-menu</menu>
        </action>
      </mousebind>
    </context>
    <context name="AllDesktops">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="ToggleOmnipresent"/>
      </mousebind>
    </context>
    <context name="Shade">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="ToggleShade"/>
      </mousebind>
    </context>
    <context name="Iconify">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="Iconify"/>
      </mousebind>
    </context>
    <context name="Maximize">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
      </mousebind>
      <mousebind button="Middle" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="ToggleMaximize"/>
      </mousebind>
      <mousebind button="Middle" action="Click">
        <action name="ToggleMaximize">
          <direction>vertical</direction>
        </action>
      </mousebind>
      <mousebind button="Right" action="Click">
        <action name="ToggleMaximize">
          <direction>horizontal</direction>
        </action>
      </mousebind>
    </context>
    <context name="Close">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
        <action name="Unshade"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="Close"/>
      </mousebind>
    </context>
    <context name="Desktop">
      <mousebind button="Up" action="Click">
        <action name="GoToDesktop">
          <to>previous</to>
        </action>
      </mousebind>
      <mousebind button="Down" action="Click">
        <action name="GoToDesktop">
          <to>next</to>
        </action>
      </mousebind>
      <mousebind button="A-Up" action="Click">
        <action name="GoToDesktop">
          <to>previous</to>
        </action>
      </mousebind>
      <mousebind button="A-Down" action="Click">
        <action name="GoToDesktop">
          <to>next</to>
        </action>
      </mousebind>
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
    </context>
    <context name="Root">
      <!-- Menus -->
      <mousebind button="Middle" action="Press">
        <action name="ShowMenu">
          <menu>client-list-combined-menu</menu>
        </action>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="ShowMenu">
          <menu>root-menu</menu>
        </action>
      </mousebind>
    </context>
    <context name="MoveResize">
      <mousebind button="Up" action="Click">
        <action name="GoToDesktop">
          <to>previous</to>
        </action>
      </mousebind>
      <mousebind button="Down" action="Click">
        <action name="GoToDesktop">
          <to>next</to>
        </action>
      </mousebind>
      <mousebind button="A-Up" action="Click">
        <action name="GoToDesktop">
          <to>previous</to>
        </action>
      </mousebind>
      <mousebind button="A-Down" action="Click">
        <action name="GoToDesktop">
          <to>next</to>
        </action>
      </mousebind>
    </context>
  </mouse>
  <menu>
    <!-- TODO REMOVE THESE COMMENTS NOOBDISH -->
    <!-- You can specify more than one menu file in here and they are all loaded,
       just don't make menu ids clash or, well, it'll be kind of pointless -->
    <!-- default menu file (or custom one in $HOME/.config/openbox/) -->
    <!-- system menu files on Debian systems -->
    <!-- <file>/var/lib/openbox/debian-menu.xml</file> -->
    <file>menu.xml</file>
    <hideDelay>200</hideDelay>
    <!-- if a press-release lasts longer than this setting (in milliseconds), the
       menu is hidden again -->
    <middle>no</middle>
    <!-- center submenus vertically about the parent entry -->
    <submenuShowDelay>100</submenuShowDelay>
    <!-- time to delay before showing a submenu after hovering over the parent
       entry.
       if this is a negative value, then the delay is infinite and the
       submenu will not be shown until it is clicked on -->
    <submenuHideDelay>400</submenuHideDelay>
    <!-- time to delay before hiding a submenu when selecting another
       entry in parent menu
       if this is a negative value, then the delay is infinite and the
       submenu will not be hidden until a different submenu is opened -->
    <showIcons>yes</showIcons>
    <!-- controls if icons appear in the client-list-(combined-)menu -->
    <manageDesktops>yes</manageDesktops>
    <!-- show the manage desktops section in the client-list-(combined-)menu -->
  </menu>
  <applications>
    <!-- 
	 All new applications will have no decorations and appear in the center. 
	 keeps things neat
    -->
    <application type="splash">
      <position force="yes">
	<x>center</x>
	<y>center</y>
	<monitor>mouse</monitor>
      </position>
    </application>
    <application name="nextcloud">
      <position force="yes">
	<x>0</x>
	<y>-0</y>
	<monitor>1</monitor>
      </position>
      <decor>no</decor>
    </application>
    <application name="kicad">
      <maximized>yes</maximized>
      <fullscreen>yes</fullscreen>
    </application>
    <application name="gl">
      <maximized>yes</maximized>
      <fullscreen>yes</fullscreen>
    </application>
    <application name="emacs">
      <focus>yes</focus>
      <decor>no</decor>
      <fullscreen>yes</fullscreen>
      <maximized>yes</maximized>
    </application>
    <application name="xterm-256color">
      <decor>no</decor>
      <maximized>yes</maximized>
    </application>
    <application name="thunar">
      <maximized>yes</maximized>
    </application>
    <application name="firefox">
      <decor>no</decor>
      <maximized>yes</maximized>
    </application>
    <application class="LibreWolf">
      <decor>no</decor>
      <maximized>yes</maximized>
    </application>
  </applications>
</openbox_config>
